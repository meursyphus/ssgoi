import{h as ee,e as te,w as le,H as ce,_ as ue,f as de,M as _e,C as O,J as ve,a as z,d as w,N as H,i as pe,z as fe,o as me,g as Z}from"./q-DI0xDJvE.js";import{t as ye,h as i,i as C,j as V,k as x,Q as oe,r as ne,m as re,l as se,n as X,o as he,q as we,v as $,w as D,x as Ce,y as Se,z as be,A as ge,C as qe,b as Ee,D as Pe,R as Le,c as Re,d as De,e as ke,B as Ie,f as $e}from"./q-DBJ8Wqn1.js";import{c as K,m as Y,r as F}from"./q-BNbdy8b5.js";import{_ as Q}from"./q-BKZ00VYc.js";const xe=async(a,r)=>{const[m,v,s,g]=ee(),{type:u="link",forceReload:y=a===void 0,replaceState:q=!1,scroll:E=!0}=typeof r=="object"?r:{forceReload:r};x.navCount++,u==="link"&&s.value.type==="initial"&&(s.value.dest=new URL(window.location.href));const l=s.value.dest,t=a===void 0?l:typeof a=="number"?a:ye(a,g.url);if(i.$cbs$&&(y||typeof t=="number"||!C(t,l)||!V(t,l))){const _=x.navCount,c=await Promise.all([...i.$cbs$.values()].map(P=>P(t)));if(_!==x.navCount||c.some(Boolean)){_===x.navCount&&u==="popstate"&&history.pushState(null,"",l);return}}if(typeof t=="number"){history.go(t);return}if(!V(t,l)){location.href=t.href;return}if(!y&&C(t,l)){{u==="link"&&t.href!==location.href&&history.pushState(null,"",t);const _=document.getElementById(oe)??document.documentElement;ne(u,t,new URL(location.href),_,re()),u==="popstate"&&(window._qCityScrollEnabled=!0)}return}return s.value={type:u,dest:t,forceReload:y,replaceState:q,scroll:E},se(t,te()),X(F,Y,K,t.pathname),m.value=void 0,g.isNavigating=!0,new Promise(_=>{v.r=_})},Ue=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_uBLxKUhoQgs:xe},Symbol.toStringTag,{value:"Module"})),je=({track:a})=>{const[r,m,v,s,g,u,y,q,E,l,t]=ee();async function _(){const c=a(l),P=a(r),U=le(""),S=t.url,f=P?"form":c.type,ae=c.replaceState;let n,N,W=null,j;{n=new URL(c.dest,location),n.pathname.endsWith("/")||(n.pathname+="/");let A=X(F,Y,K,n.pathname);j=te();const k=N=await se(n,j,{action:P,clearCache:!0});if(!k){l.untrackedValue={type:f,dest:n};return}const M=k.href,I=new URL(M,n);C(I,n)||(k.isRewrite||(n=I),A=X(F,Y,K,I.pathname));try{W=await A}catch(L){console.error(L),window.location.href=M;return}}if(W){const[A,k,M,I]=W,L=M,ie=L[L.length-1];c.dest.search&&C(n,S)&&(n.search=c.dest.search),C(n,S)||(t.prevUrl=S),t.url=n,t.params={...k},l.untrackedValue={type:f,dest:n};const R=he(N,t,L,U);m.headings=ie.headings,m.menu=I,v.value=ce(L),s.links=R.links,s.meta=R.meta,s.styles=R.styles,s.scripts=R.scripts,s.title=R.title,s.frontmatter=R.frontmatter;{E.viewTransition!==!1&&(document.__q_view_transition__=!0);let J;f==="popstate"&&(J=re());const b=document.getElementById(oe)??document.documentElement;(c.scroll&&(!c.forceReload||!C(n,S))&&(f==="link"||f==="popstate")||f==="form"&&!C(n,S))&&(document.__q_scroll_restore__=()=>ne(f,n,S,b,J));const G=N?.loaders,e=window;if(G&&Object.assign(y,G),we.clear(),!e._qCitySPA){if(e._qCitySPA=!0,history.scrollRestoration="manual",e.addEventListener("popstate",()=>{e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),u(location.href,{type:"popstate"})}),e.removeEventListener("popstate",e._qCityInitPopstate),e._qCityInitPopstate=void 0,!e._qCityHistoryPatch){e._qCityHistoryPatch=!0;const d=history.pushState,h=history.replaceState,T=o=>(o===null||typeof o>"u"?o={}:o?.constructor!==Object&&(o={_data:o}),o._qCityScroll=o._qCityScroll||D(b),o);history.pushState=(o,p,B)=>(o=T(o),d.call(history,o,p,B)),history.replaceState=(o,p,B)=>(o=T(o),h.call(history,o,p,B))}document.addEventListener("click",d=>{if(d.defaultPrevented)return;const h=d.target.closest("a[href]");if(h&&!h.hasAttribute("preventdefault:click")){const T=h.getAttribute("href"),o=new URL(location.href),p=new URL(T,o);if(V(p,o)&&C(p,o)){if(d.preventDefault(),!p.hash&&!p.href.endsWith("#")){p.href!==o.href&&history.pushState(null,"",p),e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),$({...D(b),x:0,y:0}),location.reload();return}u(h.getAttribute("href"))}}}),document.removeEventListener("click",e._qCityInitAnchors),e._qCityInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if(e._qCityScrollEnabled&&document.visibilityState==="hidden"){const d=D(b);$(d)}},{passive:!0}),document.removeEventListener("visibilitychange",e._qCityInitVisibility),e._qCityInitVisibility=void 0),e.addEventListener("scroll",()=>{e._qCityScrollEnabled&&(clearTimeout(e._qCityScrollDebounce),e._qCityScrollDebounce=setTimeout(()=>{const d=D(b);$(d),e._qCityScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",e._qCityInitScroll),e._qCityInitScroll=void 0,e._qCityBootstrap?.remove(),e._qCityBootstrap=void 0,Ce.resolve()}if(f!=="popstate"){e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce);const d=D(b);$(d)}Se(window,f,S,n,ae),ue(j).then(()=>{be(j).setAttribute("q:route",A);const h=D(b);$(h),e._qCityScrollEnabled=!0,t.isNavigating=!1,q.r?.()})}}}_()},Ae=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_aP685HUwoCM:je},Symbol.toStringTag,{value:"Module"})),Me=":root{view-transition-name:none}",Te=Object.freeze(Object.defineProperty({__proto__:null,s_WXFW7oXjwUw:Me},Symbol.toStringTag,{value:"Module"})),Oe=a=>{de(H(()=>Q(()=>Promise.resolve().then(()=>Te),void 0),"s_WXFW7oXjwUw"));const r=ge();if(!r?.params)throw new Error("Missing Qwik City Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const m=_e("url");if(!m)throw new Error("Missing Qwik URL Env Data");const v=new URL(m),s=O({url:v,params:r.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),g={},u=ve(O(r.response.loaders,{deep:!1})),y=z({type:"initial",dest:v,forceReload:!1,replaceState:!1,scroll:!0}),q=O($e),E=O({headings:void 0,menu:void 0}),l=z(),t=r.response.action,_=t?r.response.loaders[t]:void 0,c=z(_?{id:t,data:r.response.formData,output:{result:_,status:r.response.status}}:void 0),P=H(()=>Q(()=>Promise.resolve().then(()=>Qe),void 0),"s_xx6DZQ7pqMY"),U=H(()=>Q(()=>Promise.resolve().then(()=>Ue),void 0),"s_uBLxKUhoQgs",[c,g,y,s]);return w(qe,E),w(Ee,l),w(Pe,q),w(Le,s),w(Re,U),w(De,u),w(ke,c),w(Ie,P),pe(H(()=>Q(()=>Promise.resolve().then(()=>Ae),void 0),"s_aP685HUwoCM",[c,E,l,q,r,U,u,g,a,y,s])),fe(me,null,3,"6p_3")},Ve=Object.freeze(Object.defineProperty({__proto__:null,s_C35Me7wyDrc:Oe},Symbol.toStringTag,{value:"Module"})),He=a=>(i.$handler$||(i.$handler$=r=>{if(x.navCount++,!i.$cbs$)return;[...i.$cbs$.values()].map(v=>v.resolved?v.resolved():v()).some(Boolean)&&(r.preventDefault(),r.returnValue=!0)}),(i.$cbs$||(i.$cbs$=new Set)).add(a),a.resolve(),window.addEventListener("beforeunload",i.$handler$),()=>{i.$cbs$&&(i.$cbs$.delete(a),i.$cbs$.size||(i.$cbs$=void 0,window.removeEventListener("beforeunload",i.$handler$)))}),Qe=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_xx6DZQ7pqMY:He},Symbol.toStringTag,{value:"Module"}));export{Z as _hW,Ve as i,Oe as s_C35Me7wyDrc,Me as s_WXFW7oXjwUw,je as s_aP685HUwoCM,xe as s_uBLxKUhoQgs,He as s_xx6DZQ7pqMY};
