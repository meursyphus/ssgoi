---
title: "Element Animations"
description: "Apply animations to individual DOM elements"
nav-title: "Element Animations"
---

<TransitionDemo />

## Transition Examples


How to use various transition effects:

<Tabs items={[{ label: "React", value: "react" }, { label: "Svelte", value: "svelte" }, { label: "Vue", value: "vue" }, { label: "Solid.js", value: "solid" }, { label: "Angular", value: "angular" }]}>
  <TabPanel value="react">
    ```jsx
    import { transition } from '@ssgoi/react';
    import { fade, scale, blur, slide, fly, rotate, bounce } from '@ssgoi/react/transitions';

    /**
     * [React] Auto Key Plugin
     *
     * With the plugin, you can omit the key property.
     * Unique keys are auto-generated based on file:line:column.
     *
     * Next.js Setup:
     * ```ts
     * // next.config.ts
     * import SsgoiAutoKey from "@ssgoi/react/unplugin/webpack";
     *
     * const nextConfig = {
     *   webpack: (config) => {
     *     config.plugins.push(SsgoiAutoKey());
     *     return config;
     *   },
     * };
     * ```
     *
     * ⚠️ Note: In .map() lists, JSX key is enough - the plugin handles it automatically.
     * Without the plugin, key is required.
     *
     * Example:
     * ```jsx
     * // In .map() lists, JSX key is sufficient
     * // Plugin auto-generates file:line:col:${jsxKey}
     * {items.map((item) => (
     *   <div
     *     key={item.id}  // JSX key is enough
     *     ref={transition(fade())}
     *   >
     *     {item.name}
     *   </div>
     * ))}
     * ```
     */

    // Fade transition
    <div ref={transition(fade())}>
      Fade effect
    </div>

    // Scale transition
    <div ref={transition(scale())}>
      Scale effect
    </div>

    // Blur transition
    <div ref={transition(blur({ amount: 10 }))}>
      Blur effect
    </div>

    // Slide transition (with direction)
    <div ref={transition(slide({ direction: 'left' }))}>
      Slide effect
    </div>

    // Fly transition (custom position)
    <div ref={transition(fly({ x: 200, y: -50 }))}>
      Fly effect
    </div>

    // Rotate transition
    <div ref={transition(rotate())}>
      Rotate effect
    </div>

    // Bounce transition
    <div ref={transition(bounce())}>
      Bounce effect
    </div>
    ```
  </TabPanel>
  <TabPanel value="svelte">
    ```svelte
    <script>
      import { transition } from '@ssgoi/svelte';
      import { fade, scale, blur, slide, fly, rotate, bounce } from '@ssgoi/svelte/transitions';
    </script>

    <!-- Fade transition -->
    <div use:transition={{
      key: 'fade-element',
      ...fade({ spring: { stiffness: 300, damping: 30 } })
    }}>
      Fade effect
    </div>

    <!-- Scale transition -->
    <div use:transition={{
      key: 'scale-element',
      ...scale({ spring: { stiffness: 300, damping: 30 } })
    }}>
      Scale effect
    </div>

    <!-- Blur transition -->
    <div use:transition={{
      key: 'blur-element',
      ...blur({ amount: 10, spring: { stiffness: 300, damping: 30 } })
    }}>
      Blur effect
    </div>

    <!-- Slide transition (with direction) -->
    <div use:transition={{
      key: 'slide-element',
      ...slide({ direction: 'left', spring: { stiffness: 300, damping: 30 } })
    }}>
      Slide effect
    </div>

    <!-- Fly transition (custom position) -->
    <div use:transition={{
      key: 'fly-element',
      ...fly({ x: 200, y: -50, spring: { stiffness: 300, damping: 30 } })
    }}>
      Fly effect
    </div>

    <!-- Rotate transition -->
    <div use:transition={{
      key: 'rotate-element',
      ...rotate({ spring: { stiffness: 300, damping: 30 } })
    }}>
      Rotate effect
    </div>

    <!-- Bounce transition -->
    <div use:transition={{
      key: 'bounce-element',
      ...bounce({ spring: { stiffness: 300, damping: 30 } })
    }}>
      Bounce effect
    </div>
    ```
  </TabPanel>
  <TabPanel value="vue">
    ```vue
    <template>
      <!-- Fade transition -->
      <div v-transition="{
        key: 'fade-element',
        ...fade({ spring: { stiffness: 300, damping: 30 } })
      }">
        Fade effect
      </div>

      <!-- Scale transition -->
      <div v-transition="{
        key: 'scale-element',
        ...scale({ spring: { stiffness: 300, damping: 30 } })
      }">
        Scale effect
      </div>

      <!-- Blur transition -->
      <div v-transition="{
        key: 'blur-element',
        ...blur({ amount: 10, spring: { stiffness: 300, damping: 30 } })
      }">
        Blur effect
      </div>

      <!-- Slide transition (with direction) -->
      <div v-transition="{
        key: 'slide-element',
        ...slide({ direction: 'left', spring: { stiffness: 300, damping: 30 } })
      }">
        Slide effect
      </div>

      <!-- Fly transition (custom position) -->
      <div v-transition="{
        key: 'fly-element',
        ...fly({ x: 200, y: -50, spring: { stiffness: 300, damping: 30 } })
      }">
        Fly effect
      </div>

      <!-- Rotate transition -->
      <div v-transition="{
        key: 'rotate-element',
        ...rotate({ spring: { stiffness: 300, damping: 30 } })
      }">
        Rotate effect
      </div>

      <!-- Bounce transition -->
      <div v-transition="{
        key: 'bounce-element',
        ...bounce({ spring: { stiffness: 300, damping: 30 } })
      }">
        Bounce effect
      </div>
    </template>

    <script setup>
    import { transition } from '@ssgoi/vue';
    import { fade, scale, blur, slide, fly, rotate, bounce } from '@ssgoi/vue/transitions';
    </script>
    ```
  </TabPanel>
  <TabPanel value="solid">
    ```tsx
    import { transition } from '@ssgoi/solid';
    import { fade, scale, blur, slide, fly, rotate, bounce } from '@ssgoi/solid/transitions';

    // Fade transition
    <div ref={transition({
      key: "fade-element",
      ...fade({ spring: { stiffness: 300, damping: 30 } })
    })}>
      Fade effect
    </div>

    // Scale transition
    <div ref={transition({
      key: "scale-element",
      ...scale({ spring: { stiffness: 300, damping: 30 } })
    })}>
      Scale effect
    </div>

    // Blur transition
    <div ref={transition({
      key: "blur-element",
      ...blur({ amount: 10, spring: { stiffness: 300, damping: 30 } })
    })}>
      Blur effect
    </div>

    // Slide transition (with direction)
    <div ref={transition({
      key: "slide-element",
      ...slide({ direction: 'left', spring: { stiffness: 300, damping: 30 } })
    })}>
      Slide effect
    </div>

    // Fly transition (custom position)
    <div ref={transition({
      key: "fly-element",
      ...fly({ x: 200, y: -50, spring: { stiffness: 300, damping: 30 } })
    })}>
      Fly effect
    </div>

    // Rotate transition
    <div ref={transition({
      key: "rotate-element",
      ...rotate({ spring: { stiffness: 300, damping: 30 } })
    })}>
      Rotate effect
    </div>

    // Bounce transition
    <div ref={transition({
      key: "bounce-element",
      ...bounce({ spring: { stiffness: 300, damping: 30 } })
    })}>
      Bounce effect
    </div>
    ```
  </TabPanel>
  <TabPanel value="angular">
    ```typescript
    import { Component } from '@angular/core';
    import { TransitionDirective } from '@ssgoi/angular';
    import { fade, scale, blur, slide, fly, rotate, bounce } from '@ssgoi/angular/transitions';

    @Component({
      selector: 'app-element-transitions',
      standalone: true,
      imports: [TransitionDirective],
      template: `
        <!-- Fade transition -->
        <div [transition]="fadeTransition">
          Fade effect
        </div>

        <!-- Scale transition -->
        <div [transition]="scaleTransition">
          Scale effect
        </div>

        <!-- Blur transition -->
        <div [transition]="blurTransition">
          Blur effect
        </div>

        <!-- Slide transition (with direction) -->
        <div [transition]="slideTransition">
          Slide effect
        </div>

        <!-- Fly transition (custom position) -->
        <div [transition]="flyTransition">
          Fly effect
        </div>

        <!-- Rotate transition -->
        <div [transition]="rotateTransition">
          Rotate effect
        </div>

        <!-- Bounce transition -->
        <div [transition]="bounceTransition">
          Bounce effect
        </div>
      `
    })
    export class ElementTransitionsComponent {
      fadeTransition = { key: 'fade-element', ...fade({ spring: { stiffness: 300, damping: 30 } }) };
      scaleTransition = { key: 'scale-element', ...scale({ spring: { stiffness: 300, damping: 30 } }) };
      blurTransition = { key: 'blur-element', ...blur({ amount: 10, spring: { stiffness: 300, damping: 30 } }) };
      slideTransition = { key: 'slide-element', ...slide({ direction: 'left', spring: { stiffness: 300, damping: 30 } }) };
      flyTransition = { key: 'fly-element', ...fly({ x: 200, y: -50, spring: { stiffness: 300, damping: 30 } }) };
      rotateTransition = { key: 'rotate-element', ...rotate({ spring: { stiffness: 300, damping: 30 } }) };
      bounceTransition = { key: 'bounce-element', ...bounce({ spring: { stiffness: 300, damping: 30 } }) };
    }
    ```
  </TabPanel>
</Tabs>

## Basic Structure

### TransitionConfig Interface

```typescript
interface TransitionConfig {
  spring?: {
    stiffness: number; // Spring stiffness (default: 300)
    damping: number; // Damping coefficient (default: 30)
  };
  // Choose one of two animation modes (cannot use both)
  tick?: (progress: number) => void; // RAF-based animation
  css?: (progress: number) => StyleObject; // Web Animation API based (recommended)
  prepare?: (element: HTMLElement) => void; // Initial setup before animation starts
  onStart?: () => void;
  onEnd?: () => void;
}
```

### Animation Modes: `css` vs `tick`

SSGOI supports two animation modes:

#### `css` Mode (Recommended)

```typescript
{
  in: (element) => ({
    spring: { stiffness: 300, damping: 30 },
    css: (progress) => ({
      opacity: progress,
      transform: `translateY(${(1 - progress) * 20}px)`,
    }),
  })
}
```

- Uses **Web Animation API** to minimize main thread load
- Pre-computes spring physics and converts to keyframes
- Smooth animations with GPU acceleration
- **Recommended for most cases due to better performance**

#### `tick` Mode

```typescript
{
  in: (element) => ({
    spring: { stiffness: 300, damping: 30 },
    tick: (progress) => {
      element.style.opacity = String(progress);
      element.style.transform = `translateY(${(1 - progress) * 20}px)`;
    },
  })
}
```

- **requestAnimationFrame** based, executes callback every frame
- Suitable for complex animations requiring direct DOM manipulation
- Useful when values need to change dynamically during animation

<Note type="warning">
`css` and `tick` cannot be used simultaneously. Choose one.
</Note>

### Transition Definition

```typescript
interface Transition {
  in?: (element: HTMLElement) => TransitionConfig;
  out?: (element: HTMLElement) => TransitionConfig;
}
```

### How it Works

1. **On Mount**: Execute `in` function when element is added to DOM
2. **On Unmount**: Execute `out` function before element is removed
3. **Animation**: Spring physics engine generates progress
   - in: 0 → 1
   - out: 1 → 0
4. **tick Callback**: Called every frame to update styles

### Transition Presets

```typescript
import { fade, scale /** etc */ } from "@ssgoi/react/transitions";
```

## Framework-specific Usage

<Tabs items={[{ label: "React", value: "react" }, { label: "Svelte", value: "svelte" }, { label: "Vue", value: "vue" }, { label: "Solid.js", value: "solid" }, { label: "Angular", value: "angular" }]}>
  <TabPanel value="react">
    ```jsx
    import { transition } from "@ssgoi/react";

    <div
      ref={transition({
        key: "unique-key",
        in: (element) => ({
          tick: (progress) => {
            element.style.opacity = progress;
            element.style.transform = `translateY(${20 * (1 - progress)}px)`;
          },
        }),
        out: (element) => ({
          tick: (progress) => {
            element.style.opacity = 1 - progress;
          },
        }),
      })}
    >
      Content
    </div>
    ```
  </TabPanel>
  
  <TabPanel value="svelte">
    ```svelte
    <script>
      import { transition } from '@ssgoi/svelte';
    </script>

    <div use:transition={{
      key: 'unique-key',
      in: (element) => ({
        tick: (progress) => {
          element.style.opacity = progress;
          element.style.transform = `translateY(${20 * (1 - progress)}px)`;
        }
      }),
      out: (element) => ({
        tick: (progress) => {
          element.style.opacity = 1 - progress;
        }
      })
    }}>
      Content
    </div>
    ```
  </TabPanel>
  
  <TabPanel value="vue">
    ```vue
    <template>
      <div v-transition="{
        key: 'unique-key',
        in: (element) => ({
          tick: (progress) => {
            element.style.opacity = progress;
            element.style.transform = `translateY(${20 * (1 - progress)}px)`;
          }
        }),
        out: (element) => ({
          tick: (progress) => {
            element.style.opacity = 1 - progress;
          }
        })
      }">
        Content
      </div>
    </template>

    <script setup>
    import { transition } from '@ssgoi/vue';
    </script>
    ```
  </TabPanel>
  <TabPanel value="solid">
    ```tsx
    import { transition } from '@ssgoi/solid';

    <div ref={transition({
      key: 'unique-key',
      in: (element) => ({
        tick: (progress) => {
          element.style.opacity = progress;
          element.style.transform = `translateY(${20 * (1 - progress)}px)`;
        }
      }),
      out: (element) => ({
        tick: (progress) => {
          element.style.opacity = 1 - progress;
        }
      })
    })}>
      Content
    </div>
    ```
  </TabPanel>
  <TabPanel value="angular">
    ```typescript
    import { Component } from '@angular/core';
    import { TransitionDirective } from '@ssgoi/angular';

    @Component({
      selector: 'app-custom',
      standalone: true,
      imports: [TransitionDirective],
      template: `
        <div [transition]="transitionConfig">
          Content
        </div>
      `,
    })
    export class CustomComponent {
      transitionConfig = {
        key: 'unique-key',
        in: (element: HTMLElement) => ({
          tick: (progress: number) => {
            element.style.opacity = `${progress}`;
            element.style.transform = `translateY(${20 * (1 - progress)}px)`;
          }
        }),
        out: (element: HTMLElement) => ({
          tick: (progress: number) => {
            element.style.opacity = `${progress}`;
          }
        })
      };
    }
    ```
  </TabPanel>
</Tabs>

## Progress Behavior

### key

- `key` must be unique within the page to track animation state even when DOM is created/deleted
- Without a `key`, SSGOI cannot distinguish between different elements with the same transition
- **React Auto Key Plugin**: In React, if `key` is not provided, you can use the Auto Key Plugin to generate keys automatically based on file location (file:line:column)
- **Important**: In `.map()` lists, JSX key is enough - the plugin automatically generates unique keys using the pattern `file:line:col:${jsxKey}`
- See the React examples above for setup instructions

### in Animation

- progress: 0 → 1
- Executes when element appears
- Opacity from 0 to 1, from small size to original size

### out Animation

- progress: 1 → 0
- Executes when element disappears
- Opacity from 1 to 0, from original size to small size

```jsx
// Example: difference between in and out
{
  in: (element) => ({
    tick: (progress) => {
      // progress: 0 → 1
      element.style.opacity = progress;  // 0 → 1
    }
  }),
  out: (element) => ({
    tick: (progress) => {
      // progress: 1 → 0
      element.style.opacity = progress;  // 1 → 0
    }
  })
}
```

## prepare Callback

The stage where DOM elements are prepared before animation starts:

```jsx
{
  in: {
    prepare: (element) => {
      // Set initial state before tick is executed
      element.style.willChange = 'opacity, transform';
    },
    tick: (progress) => ({
      opacity: progress,
      transform: `translateY(${20 * (1 - progress)}px)`
    })
  }
}
```

## TransitionScope

`TransitionScope` is a container that controls the animation behavior of child elements. It can skip unnecessary animations when parent and children mount/unmount simultaneously.

### Use Cases

- **Page Transitions**: Prevent individual elements from animating separately during page transitions
- **Modal/Dialog**: Prevent duplicate animations for content appearing with the container
- **Lists**: Skip individual item animations when entire list mounts/unmounts

### scope Option

```typescript
interface TransitionOptions {
  // ...
  scope?: 'global' | 'local';
}
```

- **`global`** (default): Always run animations
- **`local`**: Skip animations when mounting/unmounting simultaneously with TransitionScope

### Usage Example

<Tabs items={[{ label: "React", value: "react" }, { label: "Svelte", value: "svelte" }, { label: "Vue", value: "vue" }, { label: "Solid.js", value: "solid" }]}>
  <TabPanel value="react">
    ```tsx
    import { TransitionScope, transition } from '@ssgoi/react';

    function MyComponent() {
      const [show, setShow] = useState(true);

      return (
        <>
          <button onClick={() => setShow(!show)}>Toggle</button>

          {show && (
            <TransitionScope>
              <div style={{ padding: '2rem', border: '1px dashed #ccc' }}>
                {/* local: Skip animation when mounting/unmounting with scope */}
                <div
                  ref={transition({
                    key: 'local-child',
                    scope: 'local',
                    in: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                    out: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                  })}
                >
                  Local Scope (appears/disappears with Scope)
                </div>

                {/* global: Always run animation */}
                <div
                  ref={transition({
                    key: 'global-child',
                    // scope: 'global' is default
                    in: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                    out: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                  })}
                >
                  Global Scope (always animates)
                </div>
              </div>
            </TransitionScope>
          )}
        </>
      );
    }
    ```
  </TabPanel>
  <TabPanel value="svelte">
    ```svelte
    <script>
      import { TransitionScope, transition } from '@ssgoi/svelte';

      let show = true;
    </script>

    <button on:click={() => show = !show}>Toggle</button>

    {#if show}
      <TransitionScope>
        <div style="padding: 2rem; border: 1px dashed #ccc;">
          <!-- local: Skip animation when mounting/unmounting with scope -->
          <div
            use:transition={{
              key: 'local-child',
              scope: 'local',
              in: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
              out: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
            }}
          >
            Local Scope
          </div>

          <!-- global: Always run animation -->
          <div
            use:transition={{
              key: 'global-child',
              in: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
              out: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
            }}
          >
            Global Scope
          </div>
        </div>
      </TransitionScope>
    {/if}
    ```
  </TabPanel>
  <TabPanel value="vue">
    ```vue
    <template>
      <button @click="show = !show">Toggle</button>

      <TransitionScope v-if="show">
        <div style="padding: 2rem; border: 1px dashed #ccc;">
          <!-- local: Skip animation when mounting/unmounting with scope -->
          <div
            v-transition="{
              key: 'local-child',
              scope: 'local',
              in: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
              out: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
            }"
          >
            Local Scope
          </div>

          <!-- global: Always run animation -->
          <div
            v-transition="{
              key: 'global-child',
              in: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
              out: () => ({
                css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
              }),
            }"
          >
            Global Scope
          </div>
        </div>
      </TransitionScope>
    </template>

    <script setup>
    import { ref } from 'vue';
    import { TransitionScope } from '@ssgoi/vue';

    const show = ref(true);
    </script>
    ```
  </TabPanel>
  <TabPanel value="solid">
    ```tsx
    import { TransitionScope, transition } from '@ssgoi/solid';
    import { createSignal } from 'solid-js';

    function MyComponent() {
      const [show, setShow] = createSignal(true);

      return (
        <>
          <button onClick={() => setShow(!show())}>Toggle</button>

          {show() && (
            <TransitionScope>
              <div style={{ padding: '2rem', border: '1px dashed #ccc' }}>
                {/* local: Skip animation when mounting/unmounting with scope */}
                <div
                  ref={transition({
                    key: 'local-child',
                    scope: 'local',
                    in: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                    out: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                  })}
                >
                  Local Scope (appears/disappears with Scope)
                </div>

                {/* global: Always run animation */}
                <div
                  ref={transition({
                    key: 'global-child',
                    // scope: 'global' is default
                    in: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                    out: () => ({
                      css: (p) => ({ opacity: p, transform: `scale(${0.5 + p * 0.5})` }),
                    }),
                  })}
                >
                  Global Scope (always animates)
                </div>
              </div>
            </TransitionScope>
          )}
        </>
      );
    }
    ```
  </TabPanel>
</Tabs>

### Behavior

| Situation | `scope: 'local'` | `scope: 'global'` |
|-----------|------------------|-------------------|
| Mount with Scope simultaneously | Skip animation | Run animation |
| Unmount with Scope simultaneously | Skip animation | Run animation |
| Toggle individually within Scope | Run animation | Run animation |
